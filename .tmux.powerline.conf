# vim: ft=tmux

if-shell 'test -z "$POWERLINE_CONFIG_COMMAND"' 'set-environment -g POWERLINE_CONFIG_COMMAND powerline-config'

# Don't version-check for this core functionality -- anything too old to
# support these options likely won't work well with powerline
set -g status on
set -g status-interval 2
set -g status-left-length 60
set -g status-left '#[fg=colour255,bg=colour147,bold]  | #S #[fg=colour147,bg=colour140,nobold]#[fg=colour255,bg=colour140,bold]   | #(whoami) #[fg=colour140,bg=colour133,nobold]#[fg=colour255,bg=colour133,bold]  | #h #[fg=colour133,bg=colour234,nobold]'

set -g status-right-length 150
set -g status-right '#[fg=colour177,bg=colour234]#[fg=colour234,bg=colour177,bold]  |#(cd #{pane_current_path}; git rev-parse --abbrev-ref HEAD 2>/dev/null || echo "") #[fg=colour209,bg=colour177,nobold]#[fg=colour255,bg=colour209,bold]   | %H:%M #[fg=colour216,bg=colour209,nobold]#[fg=colour234,bg=colour216,bold]   | %Y-%m-%d #[fg=colour223,bg=colour216,nobold]#[fg=colour234,bg=colour223,bold]   | #(uptime | sed "s/.*up *//; s/,.*user.*//; s/ *$//") #[fg=colour229,bg=colour223,nobold]#[fg=colour234,bg=colour229,bold]   | #(whoami)@#h '

set -g window-status-separator ''
set -g window-status-format "#[fg=colour234,bg=colour240,nobold]#[fg=colour250,bg=colour240] #I #[fg=colour240,bg=colour236,nobold]#[fg=colour244,bg=colour236] #W #[fg=colour236,bg=colour234,nobold]"
set -g window-status-current-format "#[fg=colour234,bg=colour166,nobold]#[fg=colour255,bg=colour166,bold]  | #I #[fg=colour166,bg=colour208,nobold]#[fg=colour255,bg=colour208,bold]  | #W #[fg=colour208,bg=colour234,nobold]"


# load powerline
# Disabled to use custom powerline-style config above
# if-shell 'env "$POWERLINE_CONFIG_COMMAND" tmux setup' '' 'run-shell "powerline-config tmux setup"'
